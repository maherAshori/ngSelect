var app = angular.module("ngSelect", []); app.directive("ngSelect", ["$filter", function (e) { return { restrict: "E", require: "^ngModel", scope: { options: "=", searchable: "=", setByName: "=", setById: "=", showAs: "@", output: "@", rtl: "@", disabled: "@", searchNotFound: "@" }, template: '<div class="select-bootstrap-form {{disabled}}" ng-class="{\'rtl\': rtl}"><span ng-bind="defaultValue[showAs]"></span><i class="glyphicon glyphicon-menu-down"></i><ul><li ng-show="searchable"><input type="text" ng-model="searching"><i class="glyphicon glyphicon-search"></i><i class="glyphicon glyphicon-remove-circle" ng-class="{\'active\':searching}" ng-click="removeSearch()"></i></li><li ng-repeat="option in filtered = (options | filter: searching  ) " ng-click="setValue(option)">{{option[showAs]}}<i class="glyphicon glyphicon-pushpin" ng-class="{\'active\': option.active}"></i></li><li ng-if="filtered.length === 0">{{searchNotFound}}</li></ul></div>', link: function (n, i, t, o) { n.searchResults = [], i.mouseenter(function () { i.find("input").select() }).mouseleave(function () { n.$apply(function () { n.searching = "", i.find("input").val("") }) }), n.removeSearch = function () { n.searching = "", i.find("input").val(""), i.find("input").select() }, angular.isUndefined(n.showAs) && (n.showAs = "name"), o.$render = function () { var i = o.$modelValue; if (angular.isUndefined(i)) n.defaultValue = n.options[0], n.options[0].active = !0, o.$setViewValue(angular.isUndefined(n.output) ? n.options[0] : n.options[0][n.output]); else { var t; n.setByName ? (t = e("filter")(n.options, { name: i.name }, !0)[0], angular.isUndefined(t) ? console.error("[" + i.name + "] as name, not found in the options") : n.setValue(t)) : (t = e("filter")(n.options, { value: i.value }, !0)[0], angular.isUndefined(t) ? console.error("[" + i.value + "] as value, not found in the options") : n.setValue(t)), n.setById && (t = e("filter")(n.options, { id: i.id }, !0)[0], angular.isUndefined(t) ? console.error("[" + i.id + "] as id, not found in the options") : n.setValue(t)) } }, angular.forEach(n.options, function (e) { e.active = !1 }), n.setValue = function (e) { angular.forEach(n.options, function (e) { e.active = !1 }), n.defaultValue = e, e.active = !0, o.$setViewValue(angular.isUndefined(n.output) ? e : e[n.output]) } } } }]);
